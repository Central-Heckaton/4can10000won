{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\seojio\\\\4can1000won_fork\\\\4can10000won\\\\beer_community\\\\src\\\\main\\\\frontend\\\\src\\\\components\\\\filterBox\\\\filterBox.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useCallback } from 'react';\nimport styles from './filterBox.module.css';\nimport { useState } from 'react';\nimport axios from 'axios';\nimport BeerList from \"../beerList/beerList\";\nimport { useEffect } from \"@types/react\"; // import BeerList from \"../components/beerList/beerList\";\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst FilterBox = () => {\n  _s();\n\n  const [beerData, setBeerData] = useState([]);\n  const [changeColor, setChangeColor] = useState(true);\n  const [filterState, setFilterState] = useState({\n    passingTags: {\n      Lager: false,\n      Ale: false,\n      IPA: false,\n      Stout: false\n    }\n  });\n\n  const handleFilter = e => {\n    const beerType = e.target.id;\n    setFilterState({\n      passingTags: { ...filterState.passingTags,\n        [beerType]: !filterState.passingTags[beerType]\n      } // 클릭하면 true, false로 바꿔주기\n\n    }); // console.log(filterState.passingTags[beerType]);\n\n    if (filterState.passingTags[beerType] === false) {\n      let cur = document.getElementById(beerType);\n      cur.style.color = \"white\";\n      cur.style.backgroundColor = \"#FDC74B\";\n    }\n\n    if (filterState.passingTags[beerType] === true) {\n      let cur = document.getElementById(beerType);\n      cur.style.color = \"#FDC74B\";\n      cur.style.backgroundColor = \"white\";\n    }\n\n    setChangeColor(changeColor);\n  };\n\n  const filteredCollected = useCallback(() => {\n    const clicked = [];\n    const now = filterState.passingTags;\n\n    for (let item in now) {\n      if (now[item]) {\n        // clicked.now = item; -> 현재 클릭된 아이템\n        clicked.push(item);\n      }\n    }\n\n    return clicked;\n  }, [filterState.passingTags]);\n  const result = filteredCollected();\n  console.log(result);\n\n  const getBeerList = async e => {\n    const request_data = {\n      'beerTypeList': result\n    }; // type of -> Object\n\n    let response = await axios({\n      method: 'post',\n      url: '/api/filter',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      data: JSON.stringify(request_data)\n    });\n    console.log('response: ', response);\n    setBeerData(response.data.data); // response.data\n    // [{ }, { }, { } ...] -> props로 전달필요\n  };\n\n  useEffect(() => {\n    console.log(\"Enter UseEffect\");\n    getBeerList();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: styles.container,\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      id: \"Lager\",\n      className: styles.box,\n      onClick: handleFilter,\n      children: \"\\uB77C\\uAC70\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      id: \"Ale\",\n      className: styles.box,\n      onClick: handleFilter,\n      children: \"\\uC5D0\\uC77C\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      id: \"IPA\",\n      className: styles.box,\n      onClick: handleFilter,\n      children: \"IPA\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      id: \"Stout\",\n      className: styles.box,\n      onClick: handleFilter,\n      children: \"\\uC2A4\\uD0C0\\uC6B0\\uD2B8\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(BeerList, {\n      data: beerData\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 78,\n    columnNumber: 9\n  }, this);\n};\n\n_s(FilterBox, \"uU8jfgimt78eft2SdyKn8W6AelU=\");\n\n_c = FilterBox;\nexport default FilterBox;\n\nvar _c;\n\n$RefreshReg$(_c, \"FilterBox\");","map":{"version":3,"names":["React","useCallback","styles","useState","axios","BeerList","useEffect","FilterBox","beerData","setBeerData","changeColor","setChangeColor","filterState","setFilterState","passingTags","Lager","Ale","IPA","Stout","handleFilter","e","beerType","target","id","cur","document","getElementById","style","color","backgroundColor","filteredCollected","clicked","now","item","push","result","console","log","getBeerList","request_data","response","method","url","headers","data","JSON","stringify","container","box"],"sources":["C:/Users/seojio/4can1000won_fork/4can10000won/beer_community/src/main/frontend/src/components/filterBox/filterBox.jsx"],"sourcesContent":["import React, { useCallback } from 'react';\r\nimport styles from './filterBox.module.css';\r\nimport { useState } from 'react';\r\nimport axios from 'axios';\r\nimport BeerList from \"../beerList/beerList\";\r\nimport {useEffect} from \"@types/react\";\r\n// import BeerList from \"../components/beerList/beerList\";\r\n\r\nconst FilterBox = () => {\r\n    const [beerData, setBeerData] = useState([]);\r\n    const [changeColor, setChangeColor] = useState(true);\r\n    const [filterState, setFilterState] = useState({\r\n        passingTags: {\r\n            Lager: false,\r\n            Ale: false,\r\n            IPA: false,\r\n            Stout: false\r\n        }\r\n    });\r\n\r\n    const handleFilter = (e) => {\r\n        const beerType = e.target.id;\r\n        setFilterState({\r\n            passingTags: {...filterState.passingTags, [beerType]: !filterState.passingTags[beerType]}  // 클릭하면 true, false로 바꿔주기\r\n        });\r\n        // console.log(filterState.passingTags[beerType]);\r\n        if (filterState.passingTags[beerType] === false) {\r\n            let cur = document.getElementById(beerType);\r\n            cur.style.color = \"white\";\r\n            cur.style.backgroundColor = \"#FDC74B\";\r\n        } \r\n        \r\n        if (filterState.passingTags[beerType] === true) {\r\n            let cur = document.getElementById(beerType);\r\n            cur.style.color = \"#FDC74B\";\r\n            cur.style.backgroundColor = \"white\";\r\n        }\r\n\r\n        setChangeColor(changeColor);\r\n    };\r\n\r\n    const filteredCollected = useCallback(() => {\r\n        const clicked = [];\r\n        const now = filterState.passingTags;\r\n\r\n        for (let item in now) {\r\n            if(now[item]) {\r\n                // clicked.now = item; -> 현재 클릭된 아이템\r\n                clicked.push(item);\r\n            }\r\n        }\r\n\r\n        return clicked;\r\n    }, [filterState.passingTags]);\r\n\r\n    const result = filteredCollected();\r\n    console.log(result);\r\n    const getBeerList = async (e) => {\r\n        const request_data = {'beerTypeList': result}; // type of -> Object\r\n        let response = await axios({\r\n                method: 'post',\r\n                url: '/api/filter',\r\n                headers: {'Content-Type': 'application/json'},\r\n                data: JSON.stringify(request_data)\r\n            });\r\n        console.log('response: ', response);\r\n        setBeerData(response.data.data)\r\n        // response.data\r\n        // [{ }, { }, { } ...] -> props로 전달필요\r\n    };\r\n\r\n    useEffect (() => {\r\n        console.log(\"Enter UseEffect\")\r\n        getBeerList();\r\n    }, []);\r\n\r\n    return (\r\n        <div className={styles.container}>\r\n            <button id=\"Lager\" className={styles.box} onClick={handleFilter}>라거</button>\r\n            <button id=\"Ale\" className={styles.box} onClick={handleFilter}>에일</button>\r\n            <button id=\"IPA\" className={styles.box} onClick={handleFilter}>IPA</button>\r\n            <button id=\"Stout\" className={styles.box} onClick={handleFilter}>스타우트</button>\r\n            <BeerList data={beerData}/>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default FilterBox;"],"mappings":"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"},"metadata":{},"sourceType":"module"}