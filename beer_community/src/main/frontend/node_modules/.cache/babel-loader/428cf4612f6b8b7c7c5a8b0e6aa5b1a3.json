{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\seojio\\\\4can1000won_fork\\\\4can10000won\\\\beer_community\\\\src\\\\main\\\\frontend\\\\src\\\\components\\\\filterBox\\\\filterBox.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useCallback, useEffect, useRef } from \"react\";\nimport styles from \"./filterBox.module.css\";\nimport { useState } from \"react\";\nimport axios from \"axios\";\nimport BeerList from \"../beerList/beerList\"; // import BeerList from \"../components/beerList/beerList\";\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst FilterBox = () => {\n  _s();\n\n  let start = 1;\n  const mounted = useRef(false);\n  const [beerData, setBeerData] = useState([]);\n  const [changeColor, setChangeColor] = useState(true);\n  const [filterState, setFilterState] = useState({\n    passingTags: {\n      Lager: false,\n      Ale: false,\n      IPA: false,\n      Stout: false\n    }\n  });\n\n  const handleFilter = e => {\n    console.log(\"====handleFilter called====\");\n    const beerType = e.target.id;\n    setFilterState({\n      passingTags: { ...filterState.passingTags,\n        [beerType]: !filterState.passingTags[beerType]\n      } // 클릭하면 true, false로 바꿔주기\n\n    }); // console.log(filterState.passingTags[beerType]);\n\n    if (filterState.passingTags[beerType] === false) {\n      let cur = document.getElementById(beerType);\n      cur.style.color = \"white\";\n      cur.style.backgroundColor = \"#FDC74B\";\n    }\n\n    if (filterState.passingTags[beerType] === true) {\n      let cur = document.getElementById(beerType);\n      cur.style.color = \"#FDC74B\";\n      cur.style.backgroundColor = \"white\";\n    }\n\n    setChangeColor(changeColor);\n  };\n\n  const filteredCollected = useCallback(() => {\n    const clicked = [];\n    const now = filterState.passingTags;\n\n    for (let item in now) {\n      if (now[item]) {\n        // clicked.now = item; -> 현재 클릭된 아이템\n        clicked.push(item);\n      }\n    }\n\n    return clicked;\n  }, [filterState.passingTags]);\n  const result = filteredCollected();\n  console.log(result);\n\n  const getBeerList = async e => {\n    console.log(\"GetBeerList Called\");\n    const request_data = {\n      beerTypeList: result\n    }; // type of -> Object\n\n    let response = await axios({\n      method: \"post\",\n      url: \"/api/filter\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      data: JSON.stringify(request_data)\n    });\n    console.log(\"response: \", response);\n    setBeerData(response.data.data); // response.data\n    // [{ }, { }, { } ...] -> props로 전달필요\n  };\n\n  useEffect(() => {\n    console.log(\"Enter UseEffect\");\n\n    if (!mounted.current) {\n      mounted.current = true;\n      getBeerList();\n    } else {\n      console.log(\"업데이트 될 때마다 실행\");\n      getBeerList();\n    } // getBeerList()\n\n  }, [beerData]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.container,\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        id: \"Lager\",\n        className: styles.box,\n        onClick: handleFilter,\n        children: \"\\uB77C\\uAC70\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        id: \"Ale\",\n        className: styles.box,\n        onClick: handleFilter,\n        children: \"\\uC5D0\\uC77C\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        id: \"IPA\",\n        className: styles.box,\n        onClick: handleFilter,\n        children: \"IPA\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        id: \"Stout\",\n        className: styles.box,\n        onClick: handleFilter,\n        children: \"\\uC2A4\\uD0C0\\uC6B0\\uD2B8\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(BeerList, {\n      data: beerData\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n\n_s(FilterBox, \"Lo3JwJJ0DJbzVeDFJ2Uab80ELD0=\");\n\n_c = FilterBox;\nexport default FilterBox;\n\nvar _c;\n\n$RefreshReg$(_c, \"FilterBox\");","map":{"version":3,"names":["React","useCallback","useEffect","useRef","styles","useState","axios","BeerList","FilterBox","start","mounted","beerData","setBeerData","changeColor","setChangeColor","filterState","setFilterState","passingTags","Lager","Ale","IPA","Stout","handleFilter","e","console","log","beerType","target","id","cur","document","getElementById","style","color","backgroundColor","filteredCollected","clicked","now","item","push","result","getBeerList","request_data","beerTypeList","response","method","url","headers","data","JSON","stringify","current","container","box"],"sources":["C:/Users/seojio/4can1000won_fork/4can10000won/beer_community/src/main/frontend/src/components/filterBox/filterBox.jsx"],"sourcesContent":["import React, {useCallback, useEffect, useRef} from \"react\";\r\nimport styles from \"./filterBox.module.css\";\r\nimport { useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport BeerList from \"../beerList/beerList\";\r\n// import BeerList from \"../components/beerList/beerList\";\r\n\r\nconst FilterBox = () => {\r\n  let start = 1\r\n  const mounted = useRef(false);\r\n  const [beerData, setBeerData] = useState([]);\r\n  const [changeColor, setChangeColor] = useState(true);\r\n  const [filterState, setFilterState] = useState({\r\n    passingTags: {\r\n      Lager: false,\r\n      Ale: false,\r\n      IPA: false,\r\n      Stout: false,\r\n    },\r\n  });\r\n  const handleFilter = (e) => {\r\n    console.log(\"====handleFilter called====\")\r\n    const beerType = e.target.id;\r\n    setFilterState({\r\n      passingTags: {\r\n        ...filterState.passingTags,\r\n        [beerType]: !filterState.passingTags[beerType],\r\n      }, // 클릭하면 true, false로 바꿔주기\r\n    });\r\n    // console.log(filterState.passingTags[beerType]);\r\n    if (filterState.passingTags[beerType] === false) {\r\n      let cur = document.getElementById(beerType);\r\n      cur.style.color = \"white\";\r\n      cur.style.backgroundColor = \"#FDC74B\";\r\n    }\r\n\r\n    if (filterState.passingTags[beerType] === true) {\r\n      let cur = document.getElementById(beerType);\r\n      cur.style.color = \"#FDC74B\";\r\n      cur.style.backgroundColor = \"white\";\r\n    }\r\n\r\n    setChangeColor(changeColor);\r\n  };\r\n\r\n  const filteredCollected = useCallback(() => {\r\n    const clicked = [];\r\n    const now = filterState.passingTags;\r\n\r\n    for (let item in now) {\r\n      if (now[item]) {\r\n        // clicked.now = item; -> 현재 클릭된 아이템\r\n        clicked.push(item);\r\n      }\r\n    }\r\n\r\n    return clicked;\r\n  }, [filterState.passingTags]);\r\n\r\n  const result = filteredCollected();\r\n  console.log(result);\r\n  const getBeerList = async (e) => {\r\n    console.log(\"GetBeerList Called\");\r\n    const request_data = { beerTypeList: result }; // type of -> Object\r\n    let response = await axios({\r\n      method: \"post\",\r\n      url: \"/api/filter\",\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      data: JSON.stringify(request_data),\r\n    });\r\n    console.log(\"response: \", response);\r\n    setBeerData(response.data.data);\r\n    // response.data\r\n    // [{ }, { }, { } ...] -> props로 전달필요\r\n  };\r\n\r\n\r\n  useEffect(() => {\r\n    console.log(\"Enter UseEffect\");\r\n    if(!mounted.current){\r\n      mounted.current = true;\r\n      getBeerList()\r\n    } else{\r\n      console.log(\"업데이트 될 때마다 실행\");\r\n      getBeerList();\r\n    }\r\n    // getBeerList()\r\n  }, [beerData]);\r\n\r\n  return (\r\n    <>\r\n      <div className={styles.container}>\r\n        <button id=\"Lager\" className={styles.box} onClick={handleFilter}>\r\n          라거\r\n        </button>\r\n        <button id=\"Ale\" className={styles.box} onClick={handleFilter}>\r\n          에일\r\n        </button>\r\n        <button id=\"IPA\" className={styles.box} onClick={handleFilter}>\r\n          IPA\r\n        </button>\r\n        <button id=\"Stout\" className={styles.box} onClick={handleFilter}>\r\n          스타우트\r\n        </button>\r\n      </div>\r\n      <BeerList data={beerData} />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default FilterBox;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}