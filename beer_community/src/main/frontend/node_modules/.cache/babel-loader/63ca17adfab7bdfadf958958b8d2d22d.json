{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/seojio/4can1000won_fork/4can10000won/beer_community/src/main/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/seojio/4can1000won_fork/4can10000won/beer_community/src/main/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/seojio/4can1000won_fork/4can10000won/beer_community/src/main/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";// ReviewBox.jsx\nimport React from\"react\";import EachReview from\"../EachReview/EachReview\";import styles from\"./reviewBox.module.css\";import{useState,useEffect}from\"react\";import axios from\"axios\";import{jsx as _jsx}from\"react/jsx-runtime\";var ReviewBox=function ReviewBox(props){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),reviews=_useState2[0],setReviews=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),userId=_useState4[0],setUserId=_useState4[1];useEffect(function(){var getReviews=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get(\"/api/comments/\".concat(props.beerId));case 2:response=_context.sent;_context.next=5;return setReviews(response.data.data);case 5:_context.next=7;return setUserId(response.data.userId);case 7:console.log(\"comment data : \",response.data);console.log(\"userId:\",response.data.userId);case 9:case\"end\":return _context.stop();}}},_callee);}));return function getReviews(){return _ref.apply(this,arguments);};}();getReviews();},[]);return/*#__PURE__*/_jsx(\"div\",{className:styles.main,children:reviews.map(function(i){return/*#__PURE__*/_jsx(EachReview,{userId:userId,setReviews:setReviews,writerId:i.writerId//댓글 작성자 아이디\n,parentId:i.id//댓글아이디\n,username:i.username,edit:i.writerId===userId?true:false,userImageUrl:i.userImageUrl?i.userImageUrl:\"https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460_1280.png\",content:i.content,point:i.point,createdDate:i.createdDate,beerId:props.beerId},i.id);})});};export default ReviewBox;","map":{"version":3,"names":["React","EachReview","styles","useState","useEffect","axios","ReviewBox","props","reviews","setReviews","userId","setUserId","getReviews","get","beerId","response","data","console","log","main","map","i","writerId","id","username","userImageUrl","content","point","createdDate"],"sources":["C:/Users/seojio/4can1000won_fork/4can10000won/beer_community/src/main/frontend/src/components/ReviewBox/ReviewBox.jsx"],"sourcesContent":["// ReviewBox.jsx\r\nimport React from \"react\";\r\nimport EachReview from \"../EachReview/EachReview\";\r\nimport styles from \"./reviewBox.module.css\";\r\nimport { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nconst ReviewBox = (props) => {\r\n  const [reviews, setReviews] = useState([]);\r\n  const [userId, setUserId] = useState([]);\r\n  useEffect(() => {\r\n    const getReviews = async () => {\r\n      let response = await axios.get(`/api/comments/${props.beerId}`);\r\n      await setReviews(response.data.data);\r\n      await setUserId(response.data.userId);\r\n      console.log(\"comment data : \", response.data);\r\n      console.log(\"userId:\", response.data.userId);\r\n    };\r\n    getReviews();\r\n  }, []);\r\n\r\n  return (\r\n    <div className={styles.main}>\r\n      {reviews.map((i) => (\r\n        <EachReview\r\n          key={i.id}\r\n          userId={userId}\r\n          setReviews={setReviews}\r\n          writerId={i.writerId} //댓글 작성자 아이디\r\n          parentId={i.id} //댓글아이디\r\n          username={i.username}\r\n          edit={i.writerId === userId ? true : false}\r\n          userImageUrl={\r\n            i.userImageUrl\r\n              ? i.userImageUrl\r\n              : \"https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460_1280.png\"\r\n          }\r\n          content={i.content}\r\n          point={i.point}\r\n          createdDate={i.createdDate}\r\n          beerId={props.beerId}\r\n        />\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ReviewBox;\r\n"],"mappings":"4fAAA;AACA,MAAOA,MAAP,KAAkB,OAAlB,CACA,MAAOC,WAAP,KAAuB,0BAAvB,CACA,MAAOC,OAAP,KAAmB,wBAAnB,CACA,OAASC,QAAT,CAAmBC,SAAnB,KAAoC,OAApC,CACA,MAAOC,MAAP,KAAkB,OAAlB,C,2CAEA,GAAMC,UAAS,CAAG,QAAZA,UAAY,CAACC,KAAD,CAAW,CAC3B,cAA8BJ,QAAQ,CAAC,EAAD,CAAtC,wCAAOK,OAAP,eAAgBC,UAAhB,eACA,eAA4BN,QAAQ,CAAC,EAAD,CAApC,yCAAOO,MAAP,eAAeC,SAAf,eACAP,SAAS,CAAC,UAAM,CACd,GAAMQ,WAAU,4FAAG,wKACIP,MAAK,CAACQ,GAAN,yBAA2BN,KAAK,CAACO,MAAjC,EADJ,QACbC,QADa,qCAEXN,WAAU,CAACM,QAAQ,CAACC,IAAT,CAAcA,IAAf,CAFC,8BAGXL,UAAS,CAACI,QAAQ,CAACC,IAAT,CAAcN,MAAf,CAHE,QAIjBO,OAAO,CAACC,GAAR,CAAY,iBAAZ,CAA+BH,QAAQ,CAACC,IAAxC,EACAC,OAAO,CAACC,GAAR,CAAY,SAAZ,CAAuBH,QAAQ,CAACC,IAAT,CAAcN,MAArC,EALiB,sDAAH,kBAAVE,WAAU,0CAAhB,CAOAA,UAAU,GACX,CATQ,CASN,EATM,CAAT,CAWA,mBACE,YAAK,SAAS,CAAEV,MAAM,CAACiB,IAAvB,UACGX,OAAO,CAACY,GAAR,CAAY,SAACC,CAAD,qBACX,KAAC,UAAD,EAEE,MAAM,CAAEX,MAFV,CAGE,UAAU,CAAED,UAHd,CAIE,QAAQ,CAAEY,CAAC,CAACC,QAAU;AAJxB,CAKE,QAAQ,CAAED,CAAC,CAACE,EAAI;AALlB,CAME,QAAQ,CAAEF,CAAC,CAACG,QANd,CAOE,IAAI,CAAEH,CAAC,CAACC,QAAF,GAAeZ,MAAf,CAAwB,IAAxB,CAA+B,KAPvC,CAQE,YAAY,CACVW,CAAC,CAACI,YAAF,CACIJ,CAAC,CAACI,YADN,CAEI,sFAXR,CAaE,OAAO,CAAEJ,CAAC,CAACK,OAbb,CAcE,KAAK,CAAEL,CAAC,CAACM,KAdX,CAeE,WAAW,CAAEN,CAAC,CAACO,WAfjB,CAgBE,MAAM,CAAErB,KAAK,CAACO,MAhBhB,EACOO,CAAC,CAACE,EADT,CADW,EAAZ,CADH,EADF,CAwBD,CAtCD,CAwCA,cAAejB,UAAf"},"metadata":{},"sourceType":"module"}