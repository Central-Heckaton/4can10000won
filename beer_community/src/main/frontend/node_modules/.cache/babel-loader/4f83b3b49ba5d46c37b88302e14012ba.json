{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/seojio/4can1000won_fork/4can10000won/beer_community/src/main/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/seojio/4can1000won_fork/4can10000won/beer_community/src/main/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/seojio/4can1000won_fork/4can10000won/beer_community/src/main/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from\"react\";import styles from\"./detailFooter.module.css\";import{useState,useEffect}from\"react\";import axios from\"axios\";import{Link}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var DetailFooter=function DetailFooter(props){var _useState=useState(0),_useState2=_slicedToArray(_useState,2),count=_useState2[0],setCount=_useState2[1];var _useState3=useState(props.isLiked),_useState4=_slicedToArray(_useState3,2),like=_useState4[0],setLike=_useState4[1];useEffect(function(){var putLike=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var request_data,response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:request_data={beerId:props.id,state:like};_context.prev=1;_context.next=4;return axios({method:\"post\",url:\"/api/like-beer\",headers:{\"Content-Type\":\"application/json\"},data:JSON.stringify(request_data)});case 4:response=_context.sent;console.log(\"response: \",response);_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](1);console.log(\"err: \",_context.t0);case 11:case\"end\":return _context.stop();}}},_callee,null,[[1,8]]);}));return function putLike(){return _ref.apply(this,arguments);};}();if(count>0){console.log('like: ',like);putLike();}else if(count===0){setCount(1);}},[like]);return/*#__PURE__*/_jsxs(\"div\",{className:styles.container,children:[/*#__PURE__*/_jsxs(\"div\",{className:styles.goReview,children:[/*#__PURE__*/_jsx(\"p\",{className:styles.title,children:\"\\uB9AC\\uBDF0\"}),/*#__PURE__*/_jsx(\"p\",{className:styles.reviewNum,children:\"(800)\"})]}),/*#__PURE__*/_jsx(\"div\",{className:styles.goRate,children:/*#__PURE__*/_jsx(Link,{to:\"/rate\",className:styles.link,state:{id:props.id},children:/*#__PURE__*/_jsx(\"button\",{className:styles.button,children:\"\\uB098\\uB3C4 \\uD3C9\\uAC00\\uD558\\uAE30\"})})}),/*#__PURE__*/_jsx(\"div\",{className:styles.like,children:/*#__PURE__*/_jsx(\"button\",{className:styles.heart,children:/*#__PURE__*/_jsx(\"img\",{className:styles.heartReg,src:like?\"/img/heart-solid.png\":\"/img/heart-regular.png\",alt:\"heart\",onClick:function onClick(){setLike(!like);}})})})]});};export default DetailFooter;","map":{"version":3,"names":["React","styles","useState","useEffect","axios","Link","DetailFooter","props","count","setCount","isLiked","like","setLike","putLike","request_data","beerId","id","state","method","url","headers","data","JSON","stringify","response","console","log","container","goReview","title","reviewNum","goRate","link","button","heart","heartReg"],"sources":["C:/Users/seojio/4can1000won_fork/4can10000won/beer_community/src/main/frontend/src/components/detailFooter/detailFooter.jsx"],"sourcesContent":["import React from \"react\";\r\nimport styles from \"./detailFooter.module.css\";\r\nimport { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst DetailFooter = (props) => {\r\n  const [count, setCount] = useState(0);\r\n  const [like, setLike] = useState(props.isLiked);\r\n  useEffect(() => {\r\n \r\n    const putLike = async () => {\r\n      const request_data = { beerId: props.id, state: like };\r\n      try {\r\n        let response = await axios({\r\n          method: \"post\",\r\n          url: \"/api/like-beer\",\r\n          headers: { \"Content-Type\": \"application/json\" },\r\n          data: JSON.stringify(request_data),\r\n        });\r\n        console.log(\"response: \", response);\r\n      } catch (err) {\r\n        console.log(\"err: \", err);\r\n      }\r\n    };\r\n    if (count > 0) {\r\n      console.log('like: ',like)\r\n      putLike();\r\n    } else if (count === 0) {\r\n      setCount(1);\r\n    }\r\n  }, [like]);\r\n\r\n  return (\r\n    <div className={styles.container}>\r\n      <div className={styles.goReview}>\r\n        <p className={styles.title}>리뷰</p>\r\n        <p className={styles.reviewNum}>(800)</p>\r\n      </div>\r\n      <div className={styles.goRate}>\r\n        <Link\r\n          to={\"/rate\"}\r\n          className={styles.link}\r\n          state={{\r\n            id: props.id,\r\n          }}\r\n        >\r\n          <button className={styles.button}>나도 평가하기</button>\r\n        </Link>\r\n      </div>\r\n      <div className={styles.like}>\r\n        <button className={styles.heart}>\r\n          <img\r\n            className={styles.heartReg}\r\n            src={like ? \"/img/heart-solid.png\" : \"/img/heart-regular.png\"}\r\n            alt=\"heart\"\r\n            onClick={() => {\r\n              setLike(!like);\r\n            }}\r\n          />\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DetailFooter;\r\n"],"mappings":"4fAAA,MAAOA,MAAP,KAAkB,OAAlB,CACA,MAAOC,OAAP,KAAmB,2BAAnB,CACA,OAASC,QAAT,CAAmBC,SAAnB,KAAoC,OAApC,CACA,MAAOC,MAAP,KAAkB,OAAlB,CACA,OAASC,IAAT,KAAqB,kBAArB,C,wFAEA,GAAMC,aAAY,CAAG,QAAfA,aAAe,CAACC,KAAD,CAAW,CAC9B,cAA0BL,QAAQ,CAAC,CAAD,CAAlC,wCAAOM,KAAP,eAAcC,QAAd,eACA,eAAwBP,QAAQ,CAACK,KAAK,CAACG,OAAP,CAAhC,yCAAOC,IAAP,eAAaC,OAAb,eACAT,SAAS,CAAC,UAAM,CAEd,GAAMU,QAAO,4FAAG,+JACRC,YADQ,CACO,CAAEC,MAAM,CAAER,KAAK,CAACS,EAAhB,CAAoBC,KAAK,CAAEN,IAA3B,CADP,uCAGSP,MAAK,CAAC,CACzBc,MAAM,CAAE,MADiB,CAEzBC,GAAG,CAAE,gBAFoB,CAGzBC,OAAO,CAAE,CAAE,eAAgB,kBAAlB,CAHgB,CAIzBC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAeT,YAAf,CAJmB,CAAD,CAHd,QAGRU,QAHQ,eASZC,OAAO,CAACC,GAAR,CAAY,YAAZ,CAA0BF,QAA1B,EATY,+EAWZC,OAAO,CAACC,GAAR,CAAY,OAAZ,cAXY,oEAAH,kBAAPb,QAAO,0CAAb,CAcA,GAAIL,KAAK,CAAG,CAAZ,CAAe,CACbiB,OAAO,CAACC,GAAR,CAAY,QAAZ,CAAqBf,IAArB,EACAE,OAAO,GACR,CAHD,IAGO,IAAIL,KAAK,GAAK,CAAd,CAAiB,CACtBC,QAAQ,CAAC,CAAD,CAAR,CACD,CACF,CAtBQ,CAsBN,CAACE,IAAD,CAtBM,CAAT,CAwBA,mBACE,aAAK,SAAS,CAAEV,MAAM,CAAC0B,SAAvB,wBACE,aAAK,SAAS,CAAE1B,MAAM,CAAC2B,QAAvB,wBACE,UAAG,SAAS,CAAE3B,MAAM,CAAC4B,KAArB,0BADF,cAEE,UAAG,SAAS,CAAE5B,MAAM,CAAC6B,SAArB,mBAFF,GADF,cAKE,YAAK,SAAS,CAAE7B,MAAM,CAAC8B,MAAvB,uBACE,KAAC,IAAD,EACE,EAAE,CAAE,OADN,CAEE,SAAS,CAAE9B,MAAM,CAAC+B,IAFpB,CAGE,KAAK,CAAE,CACLhB,EAAE,CAAET,KAAK,CAACS,EADL,CAHT,uBAOE,eAAQ,SAAS,CAAEf,MAAM,CAACgC,MAA1B,mDAPF,EADF,EALF,cAgBE,YAAK,SAAS,CAAEhC,MAAM,CAACU,IAAvB,uBACE,eAAQ,SAAS,CAAEV,MAAM,CAACiC,KAA1B,uBACE,YACE,SAAS,CAAEjC,MAAM,CAACkC,QADpB,CAEE,GAAG,CAAExB,IAAI,CAAG,sBAAH,CAA4B,wBAFvC,CAGE,GAAG,CAAC,OAHN,CAIE,OAAO,CAAE,kBAAM,CACbC,OAAO,CAAC,CAACD,IAAF,CAAP,CACD,CANH,EADF,EADF,EAhBF,GADF,CA+BD,CA1DD,CA4DA,cAAeL,aAAf"},"metadata":{},"sourceType":"module"}