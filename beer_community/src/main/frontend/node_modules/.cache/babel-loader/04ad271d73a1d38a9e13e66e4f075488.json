{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\seojio\\\\4can1000won_fork\\\\4can10000won\\\\beer_community\\\\src\\\\main\\\\frontend\\\\src\\\\components\\\\filterBox\\\\filterBox.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useCallback, useEffect } from \"react\";\nimport styles from \"./filterBox.module.css\";\nimport { useState } from \"react\";\nimport axios from \"axios\";\nimport BeerList from \"../beerList/beerList\"; // import BeerList from \"../components/beerList/beerList\";\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst FilterBox = () => {\n  _s();\n\n  const [beerData, setBeerData] = useState([]);\n  const [beerName, setBeerName] = useState();\n  const [flag, setFlag] = useState(0);\n  const [filterState, setFilterState] = useState({\n    passingTags: {\n      Lager: false,\n      Ale: false,\n      IPA: false,\n      Stout: false\n    }\n  });\n\n  const handleFilter = e => {\n    const beerType = e.target.id;\n    setFilterState({\n      passingTags: { ...filterState.passingTags,\n        [beerType]: !filterState.passingTags[beerType]\n      } // 클릭하면 true, false로 바꿔주기\n\n    }); // console.log(filterState.passingTags[beerType]);\n\n    if (filterState.passingTags[beerType] === false) {\n      let cur = document.getElementById(beerType);\n      cur.style.color = \"white\";\n      cur.style.backgroundColor = \"#FDC74B\";\n    }\n\n    if (filterState.passingTags[beerType] === true) {\n      let cur = document.getElementById(beerType);\n      cur.style.color = \"#FDC74B\";\n      cur.style.backgroundColor = \"white\";\n    }\n  };\n\n  const filteredCollected = useCallback(() => {\n    const clicked = [];\n    const now = filterState.passingTags;\n\n    for (let item in now) {\n      if (now[item]) {\n        // clicked.now = item; -> 현재 클릭된 아이템\n        clicked.push(item);\n      }\n    }\n\n    return clicked;\n  }, [filterState.passingTags]);\n  const result = filteredCollected();\n  console.log(result);\n\n  const getBeerList = async e => {\n    console.log(\"GetBeerList Called\");\n    const request_data = {\n      beerTypeList: result\n    }; // type of -> Object\n\n    let response = await axios({\n      method: \"post\",\n      url: \"/api/filter\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      data: JSON.stringify(request_data)\n    });\n    console.log(\"response: \", response);\n    setBeerData(response.data.data);\n  }; // response.data\n  // [{ }, { }, { } ...] -> props로 전달필요\n\n\n  const resetColor = () => {\n    const reset = filterState.passingTags;\n\n    for (let item in reset) {\n      document.getElementById(item).style.color = \"#FDC74B\";\n      document.getElementById(item).style.backgroundColor = \"white\";\n    }\n  };\n\n  useEffect(() => {\n    console.log(\"Enter UseEffect\");\n\n    if (flag === 0) {\n      getBeerList();\n    } else if (flag === 1) {\n      getSearch();\n      setFlag(0);\n    }\n  }, [filterState]);\n\n  const getSearch = async () => {\n    console.log(\"beerSearch.jsx/clicked!\");\n    let url = \"/api/beername-search/\" + beerName;\n    console.log(\"url: \", url);\n    let response = await axios.get(url);\n    console.log(\"response: \", response);\n    setBeerData(response.data.data);\n  };\n\n  const resetState = () => {\n    setFilterState({\n      passingTags: {\n        Lager: false,\n        Ale: false,\n        IPA: false,\n        Stout: false\n      }\n    });\n  };\n\n  const handleSearchBtnClick = async e => {\n    e.preventDefault();\n    console.log(\"beername: \", beerName);\n\n    if (beerName === \"\" || beerName === undefined) {\n      resetColor();\n      resetState();\n    } else {\n      await setFlag(1);\n      resetColor();\n      resetState();\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.searchContainer,\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        name: \"beerName\",\n        className: styles.input,\n        type: \"text\",\n        value: beerName || \"\",\n        onChange: e => setBeerName(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: styles.search,\n        onClick: handleSearchBtnClick,\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: \"/img/search.png\",\n          alt: \"search img\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.container,\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        id: \"Lager\",\n        className: styles.box,\n        onClick: handleFilter,\n        children: \"\\uB77C\\uAC70\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        id: \"Ale\",\n        className: styles.box,\n        onClick: handleFilter,\n        children: \"\\uC5D0\\uC77C\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        id: \"IPA\",\n        className: styles.box,\n        onClick: handleFilter,\n        children: \"IPA\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        id: \"Stout\",\n        className: styles.box,\n        onClick: handleFilter,\n        children: \"\\uC2A4\\uD0C0\\uC6B0\\uD2B8\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(BeerList, {\n      data: beerData\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n\n_s(FilterBox, \"Lfff4nLqIkmJuJy7aCslsJ9sgrU=\");\n\n_c = FilterBox;\nexport default FilterBox;\n\nvar _c;\n\n$RefreshReg$(_c, \"FilterBox\");","map":{"version":3,"names":["React","useCallback","useEffect","styles","useState","axios","BeerList","FilterBox","beerData","setBeerData","beerName","setBeerName","flag","setFlag","filterState","setFilterState","passingTags","Lager","Ale","IPA","Stout","handleFilter","e","beerType","target","id","cur","document","getElementById","style","color","backgroundColor","filteredCollected","clicked","now","item","push","result","console","log","getBeerList","request_data","beerTypeList","response","method","url","headers","data","JSON","stringify","resetColor","reset","getSearch","get","resetState","handleSearchBtnClick","preventDefault","undefined","searchContainer","input","value","search","container","box"],"sources":["C:/Users/seojio/4can1000won_fork/4can10000won/beer_community/src/main/frontend/src/components/filterBox/filterBox.jsx"],"sourcesContent":["import React, { useCallback, useEffect } from \"react\";\r\nimport styles from \"./filterBox.module.css\";\r\nimport { useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport BeerList from \"../beerList/beerList\";\r\n// import BeerList from \"../components/beerList/beerList\";\r\n\r\nconst FilterBox = () => {\r\n  const [beerData, setBeerData] = useState([]);\r\n  const [beerName, setBeerName] = useState();\r\n  const [flag, setFlag] = useState(0);\r\n\r\n  const [filterState, setFilterState] = useState({\r\n    passingTags: {\r\n      Lager: false,\r\n      Ale: false,\r\n      IPA: false,\r\n      Stout: false,\r\n    },\r\n  });\r\n  const handleFilter = (e) => {\r\n    const beerType = e.target.id;\r\n    setFilterState({\r\n      passingTags: {\r\n        ...filterState.passingTags,\r\n        [beerType]: !filterState.passingTags[beerType],\r\n      }, // 클릭하면 true, false로 바꿔주기\r\n    });\r\n    // console.log(filterState.passingTags[beerType]);\r\n    if (filterState.passingTags[beerType] === false) {\r\n      let cur = document.getElementById(beerType);\r\n      cur.style.color = \"white\";\r\n      cur.style.backgroundColor = \"#FDC74B\";\r\n    }\r\n\r\n    if (filterState.passingTags[beerType] === true) {\r\n      let cur = document.getElementById(beerType);\r\n      cur.style.color = \"#FDC74B\";\r\n      cur.style.backgroundColor = \"white\";\r\n    }\r\n  };\r\n\r\n  const filteredCollected = useCallback(() => {\r\n    const clicked = [];\r\n    const now = filterState.passingTags;\r\n\r\n    for (let item in now) {\r\n      if (now[item]) {\r\n        // clicked.now = item; -> 현재 클릭된 아이템\r\n        clicked.push(item);\r\n      }\r\n    }\r\n\r\n    return clicked;\r\n  }, [filterState.passingTags]);\r\n\r\n  const result = filteredCollected();\r\n  console.log(result);\r\n\r\n  const getBeerList = async (e) => {\r\n    console.log(\"GetBeerList Called\");\r\n    const request_data = { beerTypeList: result }; // type of -> Object\r\n    let response = await axios({\r\n      method: \"post\",\r\n      url: \"/api/filter\",\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      data: JSON.stringify(request_data),\r\n    });\r\n\r\n    console.log(\"response: \", response);\r\n    setBeerData(response.data.data);\r\n  };\r\n  // response.data\r\n  // [{ }, { }, { } ...] -> props로 전달필요\r\n\r\n  const resetColor = () => {\r\n    const reset = filterState.passingTags;\r\n    for (let item in reset) {\r\n      document.getElementById(item).style.color = \"#FDC74B\";\r\n      document.getElementById(item).style.backgroundColor = \"white\";\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    console.log(\"Enter UseEffect\");\r\n    if (flag === 0) {\r\n      getBeerList();\r\n    } else if (flag === 1) {\r\n      getSearch();\r\n      setFlag(0);\r\n    }\r\n  }, [filterState]);\r\n\r\n  const getSearch = async () => {\r\n    console.log(\"beerSearch.jsx/clicked!\");\r\n    let url = \"/api/beername-search/\" + beerName;\r\n    console.log(\"url: \", url);\r\n    let response = await axios.get(url);\r\n    console.log(\"response: \", response);\r\n    setBeerData(response.data.data);\r\n  };\r\n  const resetState = () => {\r\n    setFilterState({\r\n      passingTags: {\r\n        Lager: false,\r\n        Ale: false,\r\n        IPA: false,\r\n        Stout: false,\r\n      },\r\n    });\r\n  };\r\n  const handleSearchBtnClick = async (e) => {\r\n    e.preventDefault();\r\n    console.log(\"beername: \", beerName);\r\n    if (beerName === \"\" || beerName === undefined) {\r\n      resetColor();\r\n      resetState();\r\n    } else {\r\n      await setFlag(1);\r\n      resetColor();\r\n      resetState();\r\n    }\r\n  };\r\n  return (\r\n    <>\r\n      <div className={styles.searchContainer}>\r\n        <input\r\n          name=\"beerName\"\r\n          className={styles.input}\r\n          type=\"text\"\r\n          value={beerName || \"\"}\r\n          onChange={(e) => setBeerName(e.target.value)}\r\n        />\r\n        <button className={styles.search} onClick={handleSearchBtnClick}>\r\n          <img src=\"/img/search.png\" alt=\"search img\" />\r\n        </button>\r\n      </div>\r\n\r\n      <div className={styles.container}>\r\n        <button id=\"Lager\" className={styles.box} onClick={handleFilter}>\r\n          라거\r\n        </button>\r\n        <button id=\"Ale\" className={styles.box} onClick={handleFilter}>\r\n          에일\r\n        </button>\r\n        <button id=\"IPA\" className={styles.box} onClick={handleFilter}>\r\n          IPA\r\n        </button>\r\n        <button id=\"Stout\" className={styles.box} onClick={handleFilter}>\r\n          스타우트\r\n        </button>\r\n      </div>\r\n      <BeerList data={beerData} />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default FilterBox;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}