{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/seojio/4can1000won_fork/4can10000won/beer_community/src/main/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/seojio/4can1000won_fork/4can10000won/beer_community/src/main/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/seojio/4can1000won_fork/4can10000won/beer_community/src/main/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";// ReviewBox.jsx\nimport React from\"react\";import EachReview from\"../EachReview/EachReview\";import styles from\"./reviewBox.module.css\";import{useState,useEffect}from\"react\";import axios from\"axios\";import RandomLoading from\"../randomLoading/RandomLoading\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var ReviewBox=function ReviewBox(props){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),reviews=_useState2[0],setReviews=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),userId=_useState4[0],setUserId=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),loading=_useState6[0],setLoading=_useState6[1];useEffect(function(){var getReviews=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get(\"/api/comments/\".concat(props.beerId));case 2:response=_context.sent;setReviews(response.data.data);setUserId(response.data.userId);console.log(\"comment data : \",response.data);console.log(\"userId:\",response.data.userId);setLoading(true);case 8:case\"end\":return _context.stop();}}},_callee);}));return function getReviews(){return _ref.apply(this,arguments);};}();getReviews();},[]);return/*#__PURE__*/_jsx(\"div\",{className:styles.main,children:loading?/*#__PURE__*/_jsx(_Fragment,{children:reviews.map(function(i){return/*#__PURE__*/_jsx(EachReview,{userId:userId,setReviews:setReviews,writerId:i.writerId//댓글 작성자 아이디\n,parentId:i.id//댓글아이디\n,username:i.username,edit:i.writerId===userId?true:false,userImageUrl:i.userImageUrl?i.userImageUrl:\"https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460_1280.png\",content:i.content,point:i.point,createdDate:i.createdDate,beerId:props.beerId,reCount:i.reCount},i.id);})}):/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(RandomLoading,{})})});};export default ReviewBox;","map":{"version":3,"names":["React","EachReview","styles","useState","useEffect","axios","RandomLoading","ReviewBox","props","reviews","setReviews","userId","setUserId","loading","setLoading","getReviews","get","beerId","response","data","console","log","main","map","i","writerId","id","username","userImageUrl","content","point","createdDate","reCount"],"sources":["C:/Users/seojio/4can1000won_fork/4can10000won/beer_community/src/main/frontend/src/components/ReviewBox/ReviewBox.jsx"],"sourcesContent":["// ReviewBox.jsx\r\nimport React from \"react\";\r\nimport EachReview from \"../EachReview/EachReview\";\r\nimport styles from \"./reviewBox.module.css\";\r\nimport { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport RandomLoading from \"../randomLoading/RandomLoading\";\r\n\r\nconst ReviewBox = (props) => {\r\n  const [reviews, setReviews] = useState([]);\r\n  const [userId, setUserId] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  useEffect(() => {\r\n    const getReviews = async () => {\r\n      let response = await axios.get(`/api/comments/${props.beerId}`);\r\n      setReviews(response.data.data);\r\n      setUserId(response.data.userId);\r\n      console.log(\"comment data : \", response.data);\r\n      console.log(\"userId:\", response.data.userId);\r\n      setLoading(true);\r\n    };\r\n    getReviews();\r\n  }, []);\r\n\r\n  return (\r\n    <div className={styles.main}>\r\n      {loading ? (\r\n        <>\r\n          {reviews.map((i) => (\r\n            <EachReview\r\n              key={i.id}\r\n              userId={userId}\r\n              setReviews={setReviews}\r\n              writerId={i.writerId} //댓글 작성자 아이디\r\n              parentId={i.id} //댓글아이디\r\n              username={i.username}\r\n              edit={i.writerId === userId ? true : false}\r\n              userImageUrl={\r\n                i.userImageUrl\r\n                  ? i.userImageUrl\r\n                  : \"https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460_1280.png\"\r\n              }\r\n              content={i.content}\r\n              point={i.point}\r\n              createdDate={i.createdDate}\r\n              beerId={props.beerId}\r\n              reCount={i.reCount}\r\n            />\r\n          ))}\r\n        </>\r\n      ) : (\r\n        <>\r\n          <RandomLoading />\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ReviewBox;\r\n"],"mappings":"4fAAA;AACA,MAAOA,MAAP,KAAkB,OAAlB,CACA,MAAOC,WAAP,KAAuB,0BAAvB,CACA,MAAOC,OAAP,KAAmB,wBAAnB,CACA,OAASC,QAAT,CAAmBC,SAAnB,KAAoC,OAApC,CACA,MAAOC,MAAP,KAAkB,OAAlB,CACA,MAAOC,cAAP,KAA0B,gCAA1B,C,gGAEA,GAAMC,UAAS,CAAG,QAAZA,UAAY,CAACC,KAAD,CAAW,CAC3B,cAA8BL,QAAQ,CAAC,EAAD,CAAtC,wCAAOM,OAAP,eAAgBC,UAAhB,eACA,eAA4BP,QAAQ,CAAC,EAAD,CAApC,yCAAOQ,MAAP,eAAeC,SAAf,eACA,eAA8BT,QAAQ,CAAC,KAAD,CAAtC,yCAAOU,OAAP,eAAgBC,UAAhB,eACAV,SAAS,CAAC,UAAM,CACd,GAAMW,WAAU,4FAAG,wKACIV,MAAK,CAACW,GAAN,yBAA2BR,KAAK,CAACS,MAAjC,EADJ,QACbC,QADa,eAEjBR,UAAU,CAACQ,QAAQ,CAACC,IAAT,CAAcA,IAAf,CAAV,CACAP,SAAS,CAACM,QAAQ,CAACC,IAAT,CAAcR,MAAf,CAAT,CACAS,OAAO,CAACC,GAAR,CAAY,iBAAZ,CAA+BH,QAAQ,CAACC,IAAxC,EACAC,OAAO,CAACC,GAAR,CAAY,SAAZ,CAAuBH,QAAQ,CAACC,IAAT,CAAcR,MAArC,EACAG,UAAU,CAAC,IAAD,CAAV,CANiB,sDAAH,kBAAVC,WAAU,0CAAhB,CAQAA,UAAU,GACX,CAVQ,CAUN,EAVM,CAAT,CAYA,mBACE,YAAK,SAAS,CAAEb,MAAM,CAACoB,IAAvB,UACGT,OAAO,cACN,yBACGJ,OAAO,CAACc,GAAR,CAAY,SAACC,CAAD,qBACX,KAAC,UAAD,EAEE,MAAM,CAAEb,MAFV,CAGE,UAAU,CAAED,UAHd,CAIE,QAAQ,CAAEc,CAAC,CAACC,QAAU;AAJxB,CAKE,QAAQ,CAAED,CAAC,CAACE,EAAI;AALlB,CAME,QAAQ,CAAEF,CAAC,CAACG,QANd,CAOE,IAAI,CAAEH,CAAC,CAACC,QAAF,GAAed,MAAf,CAAwB,IAAxB,CAA+B,KAPvC,CAQE,YAAY,CACVa,CAAC,CAACI,YAAF,CACIJ,CAAC,CAACI,YADN,CAEI,sFAXR,CAaE,OAAO,CAAEJ,CAAC,CAACK,OAbb,CAcE,KAAK,CAAEL,CAAC,CAACM,KAdX,CAeE,WAAW,CAAEN,CAAC,CAACO,WAfjB,CAgBE,MAAM,CAAEvB,KAAK,CAACS,MAhBhB,CAiBE,OAAO,CAAEO,CAAC,CAACQ,OAjBb,EACOR,CAAC,CAACE,EADT,CADW,EAAZ,CADH,EADM,cAyBN,sCACE,KAAC,aAAD,IADF,EA1BJ,EADF,CAiCD,CAjDD,CAmDA,cAAenB,UAAf"},"metadata":{},"sourceType":"module"}