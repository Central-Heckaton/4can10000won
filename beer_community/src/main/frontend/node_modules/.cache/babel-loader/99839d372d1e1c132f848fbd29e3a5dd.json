{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\seojio\\\\4can1000won_fork\\\\4can10000won\\\\beer_community\\\\src\\\\main\\\\frontend\\\\src\\\\components\\\\editComment\\\\editComment.jsx\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport styles from './editComment.module.css';\nimport { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { useNavigate } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst EditComment = props => {\n  _s();\n\n  const [starClick, setStarClick] = useState(null);\n  const [preClicked, setPreClicked] = useState(starClick);\n  const [content, setContent] = useState(\"\");\n  const [point, setPoint] = useState(0);\n  let navigate = useNavigate();\n\n  const resetInput = () => {\n    setStarClick(null);\n    setPreClicked(starClick);\n    setContent(\"\");\n    setPoint(0);\n    [1, 2, 3, 4, 5].map(i => {\n      document.getElementById(i).src = \"/img/star-regular.png\";\n    });\n  };\n\n  const handleInputClick = async e => {\n    document.getElementById('input').value = '';\n    const request_data = {\n      content: content,\n      point: point\n    };\n\n    try {\n      console.log('request_data: ', request_data);\n      let response = await axios({\n        method: \"post\",\n        url: `/api/comments/updated-comment/${props.commentId}`,\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        data: JSON.stringify(request_data)\n      });\n\n      if (response.status >= 200 && response.status < 300) {\n        alert(\"댓글 수정이 완료 되었습니다.\");\n        console.log('response: ', response);\n        console.log('id: props.id -> ', props.id);\n        navigate(\"/review\", {\n          state: {\n            id: props.id\n          }\n        });\n      }\n    } catch (err) {\n      // alert(err);\n      console.log('err: ', err);\n      resetInput();\n    }\n  };\n\n  const goToFetch = e => {\n    e.preventDefault();\n    const nowClicked = e.target.id;\n    setStarClick(nowClicked);\n    setPoint(nowClicked);\n\n    if (nowClicked !== null) {\n      if (nowClicked > preClicked) {\n        for (let i = 1; i <= nowClicked; i++) {\n          const star_id = document.getElementById(i);\n          star_id.src = \"/img/star.png\";\n        }\n      } else if (nowClicked < preClicked) {\n        for (let i = 1; i <= nowClicked; i++) {\n          const star_id = document.getElementById(i);\n          star_id.src = \"/img/star.png\";\n        }\n\n        for (let j = 5; j > nowClicked; j--) {\n          const star_id = document.getElementById(j);\n          star_id.src = \"/img/star-regular.png\";\n        }\n      } else {\n        for (let i = 1; i <= nowClicked; i++) {\n          const star_id = document.getElementById(i);\n          star_id.src = \"/img/star-regular.png\";\n        }\n      }\n    }\n  };\n\n  useEffect(() => {\n    setPreClicked(starClick);\n  });\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: styles.container,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.btnContainer,\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        className: styles.button,\n        children: \"\\uB9AC\\uBDF0 \\uC218\\uC815\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.starContainer,\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        className: styles.total,\n        children: \"\\uCD1D\\uC810\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.rate,\n        children: [1, 2, 3, 4, 5].map(el => /*#__PURE__*/_jsxDEV(\"img\", {\n          id: el,\n          className: styles.star,\n          src: \"/img/star-regular.png\",\n          alt: \"\",\n          onClick: goToFetch\n        }, el, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 25\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.footer,\n      children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n        id: \"input\",\n        className: styles.input,\n        type: \"text\",\n        value: content,\n        placeholder: \"\\uB9E5\\uC8FC \\uD3C9\\uAC00\\uAE00\\uC744 \\uC785\\uB825\\uD574\\uC8FC\\uC138\\uC694.\",\n        onChange: e => setContent(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        className: styles.register,\n        type: \"button\",\n        value: \"\\uC218\\uC815\",\n        onClick: handleInputClick\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 86,\n    columnNumber: 9\n  }, this);\n};\n\n_s(EditComment, \"B15rZ4QC/a01LaOASjx+Ys0Uk0s=\", false, function () {\n  return [useNavigate];\n});\n\n_c = EditComment;\nexport default EditComment;\n\nvar _c;\n\n$RefreshReg$(_c, \"EditComment\");","map":{"version":3,"names":["React","styles","useState","useEffect","axios","useNavigate","EditComment","props","starClick","setStarClick","preClicked","setPreClicked","content","setContent","point","setPoint","navigate","resetInput","map","i","document","getElementById","src","handleInputClick","e","value","request_data","console","log","response","method","url","commentId","headers","data","JSON","stringify","status","alert","id","state","err","goToFetch","preventDefault","nowClicked","target","star_id","j","container","btnContainer","button","starContainer","total","rate","el","star","footer","input","register"],"sources":["C:/Users/seojio/4can1000won_fork/4can10000won/beer_community/src/main/frontend/src/components/editComment/editComment.jsx"],"sourcesContent":["import React from 'react';\r\nimport styles from './editComment.module.css';\r\nimport { useState, useEffect } from 'react';\r\nimport  axios  from 'axios';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nconst EditComment = (props) => {\r\n    const [starClick, setStarClick] = useState(null);\r\n    const [preClicked, setPreClicked] = useState(starClick);\r\n    \r\n    const [content, setContent] = useState(\"\");\r\n    const [point, setPoint] = useState(0);\r\n\r\n    let navigate = useNavigate();\r\n\r\n    const resetInput = () => {\r\n        setStarClick(null);\r\n        setPreClicked(starClick);\r\n        setContent(\"\");\r\n        setPoint(0);\r\n        [1, 2, 3, 4, 5].map(i => {document.getElementById(i).src = \"/img/star-regular.png\"});\r\n    }\r\n\r\n    const handleInputClick = async (e) => {\r\n        document.getElementById('input').value = '';\r\n        const request_data = { content: content, point: point };\r\n        try {\r\n            console.log('request_data: ', request_data);\r\n            let response = await axios({\r\n                method: \"post\",\r\n                url: `/api/comments/updated-comment/${props.commentId}`,\r\n                headers: { \"Content-Type\": \"application/json\" },\r\n                data: JSON.stringify(request_data),\r\n            }); \r\n            if (response.status >= 200 && response.status < 300) {\r\n                alert(\"댓글 수정이 완료 되었습니다.\");\r\n                console.log('response: ', response);\r\n                console.log('id: props.id -> ', props.id);\r\n                navigate(\"/review\", { state: {id: props.id} });\r\n            }\r\n        } catch(err) {\r\n            // alert(err);\r\n            console.log('err: ', err);\r\n            resetInput();\r\n        }\r\n\r\n    };\r\n\r\n    const goToFetch = (e) => {\r\n        e.preventDefault();\r\n        const nowClicked = e.target.id;\r\n        setStarClick(nowClicked);\r\n        setPoint(nowClicked);\r\n\r\n        if(nowClicked !== null) {\r\n            if(nowClicked > preClicked) {\r\n                for (let i = 1; i <= nowClicked; i++) {\r\n                    const star_id = document.getElementById(i);\r\n                    star_id.src = \"/img/star.png\";\r\n                }\r\n            }\r\n            else if(nowClicked < preClicked){\r\n                for (let i = 1; i <= nowClicked; i++) {\r\n                    const star_id = document.getElementById(i);\r\n                    star_id.src = \"/img/star.png\";\r\n                }\r\n                for(let j = 5; j > nowClicked; j--) {\r\n                    const star_id = document.getElementById(j);\r\n                    star_id.src = \"/img/star-regular.png\";\r\n                }\r\n            }\r\n            else {\r\n                for (let i = 1; i <= nowClicked; i++) {\r\n                    const star_id = document.getElementById(i);\r\n                    star_id.src = \"/img/star-regular.png\";\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        setPreClicked(starClick);\r\n    });\r\n\r\n    return (\r\n        <div className={styles.container}>\r\n            <div className={styles.btnContainer}>\r\n                <button className={styles.button}>리뷰 수정</button>\r\n            </div>\r\n            <div className={styles.starContainer}>\r\n                <p className={styles.total}>총점</p>\r\n                <div className={styles.rate}>\r\n                    {[1, 2, 3, 4, 5].map(el => (\r\n                        <img \r\n                            key={el}\r\n                            id={el}\r\n                            className={styles.star} \r\n                            src=\"/img/star-regular.png\"\r\n                            alt=\"\"\r\n                            onClick={goToFetch} />\r\n                    ))}\r\n                </div>\r\n            </div>\r\n            <div className={styles.footer}>\r\n                <textarea\r\n                    id=\"input\"\r\n                    className={styles.input} \r\n                    type=\"text\" \r\n                    value={content}\r\n                    placeholder=\"맥주 평가글을 입력해주세요.\"\r\n                    onChange={(e) => setContent(e.target.value)}\r\n                />\r\n                <input \r\n                    className={styles.register} \r\n                    type=\"button\" \r\n                    value=\"수정\"\r\n                    onClick={handleInputClick}/>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default EditComment;"],"mappings":"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"},"metadata":{},"sourceType":"module"}