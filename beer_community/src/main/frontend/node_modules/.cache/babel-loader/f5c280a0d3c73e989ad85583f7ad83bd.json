{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/seojio/4can1000won_fork/4can10000won/beer_community/src/main/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/seojio/4can1000won_fork/4can10000won/beer_community/src/main/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/seojio/4can1000won_fork/4can10000won/beer_community/src/main/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from\"react\";import LikeBox from\"../components/LikeBox/LikeBox\";import Nav from\"../components/Nav/Nav\";import{useNavigate}from\"react-router-dom\";import Footer from\"../components/Footer/Footer\";import axios from\"axios\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Like=function Like(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),loading=_useState2[0],setLoading=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),beerData=_useState4[0],setBeerData=_useState4[1];var navigate=useNavigate();var getBeerData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.get(\"/api/likebeers\");case 3:response=_context.sent;console.log('response: ',response);setBeerData(response.data.data);setLoading(true);return _context.abrupt(\"return\");case 10:_context.prev=10;_context.t0=_context[\"catch\"](0);console.log('error: ',_context.t0);console.log('error.response: ',_context.t0.response);console.log('error.response.data: ',_context.t0.response.data);console.log('error.response.status: ',_context.t0.response.status);if(_context.t0.response.status==403){// Forbidden - 로그인 되지 않은 유저의 접근\nalert(\"내가 찜한 맥주리스트를 확인하기 위해선 로그인이 필요합니다.\\n로그인 페이지로 이동합니다\");navigate(\"/\",{});}case 17:case\"end\":return _context.stop();}}},_callee,null,[[0,10]]);}));return function getBeerData(){return _ref.apply(this,arguments);};}();useEffect(function(){getBeerData();console.log(beerData);},[]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Nav,{navigate:navigate}),/*#__PURE__*/_jsx(LikeBox,{data:beerData,loading:loading}),/*#__PURE__*/_jsx(Footer,{})]});};export default Like;","map":{"version":3,"names":["React","useState","useEffect","LikeBox","Nav","useNavigate","Footer","axios","Like","loading","setLoading","beerData","setBeerData","navigate","getBeerData","get","response","console","log","data","status","alert"],"sources":["C:/Users/seojio/4can1000won_fork/4can10000won/beer_community/src/main/frontend/src/pages/Like.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport LikeBox from \"../components/LikeBox/LikeBox\";\r\nimport Nav from \"../components/Nav/Nav\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport Footer from \"../components/Footer/Footer\";\r\nimport axios from \"axios\";\r\n\r\nconst Like = () => {\r\n  const [loading, setLoading] = useState(false);\r\n  const [beerData, setBeerData] = useState([]);\r\n  let navigate = useNavigate();\r\n\r\n  const getBeerData = async () => {\r\n  try{\r\n    let response = await axios.get(\"/api/likebeers\");\r\n    console.log('response: ', response);\r\n    setBeerData(response.data.data);\r\n    setLoading(true);\r\n    return\r\n  } catch (error) {\r\n    console.log('error: ', error)\r\n    console.log('error.response: ', error.response)\r\n    console.log('error.response.data: ', error.response.data)\r\n    console.log('error.response.status: ', error.response.status)\r\n    if (error.response.status == 403){ // Forbidden - 로그인 되지 않은 유저의 접근\r\n        alert(\"내가 찜한 맥주리스트를 확인하기 위해선 로그인이 필요합니다.\\n로그인 페이지로 이동합니다\")\r\n        navigate(\"/\", {});\r\n    }\r\n  }\r\n\r\n  };\r\n  useEffect(() => {\r\n    getBeerData();\r\n    console.log(beerData);\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      <Nav navigate={navigate} />\r\n      <LikeBox data={beerData} loading={loading} />\r\n\r\n      <Footer />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Like;\r\n"],"mappings":"4fAAA,MAAOA,MAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,MAAOC,QAAP,KAAoB,+BAApB,CACA,MAAOC,IAAP,KAAgB,uBAAhB,CACA,OAASC,WAAT,KAA4B,kBAA5B,CACA,MAAOC,OAAP,KAAmB,6BAAnB,CACA,MAAOC,MAAP,KAAkB,OAAlB,C,6IAEA,GAAMC,KAAI,CAAG,QAAPA,KAAO,EAAM,CACjB,cAA8BP,QAAQ,CAAC,KAAD,CAAtC,wCAAOQ,OAAP,eAAgBC,UAAhB,eACA,eAAgCT,QAAQ,CAAC,EAAD,CAAxC,yCAAOU,QAAP,eAAiBC,WAAjB,eACA,GAAIC,SAAQ,CAAGR,WAAW,EAA1B,CAEA,GAAMS,YAAW,4FAAG,wLAEGP,MAAK,CAACQ,GAAN,CAAU,gBAAV,CAFH,QAEdC,QAFc,eAGlBC,OAAO,CAACC,GAAR,CAAY,YAAZ,CAA0BF,QAA1B,EACAJ,WAAW,CAACI,QAAQ,CAACG,IAAT,CAAcA,IAAf,CAAX,CACAT,UAAU,CAAC,IAAD,CAAV,CALkB,2FAQlBO,OAAO,CAACC,GAAR,CAAY,SAAZ,cACAD,OAAO,CAACC,GAAR,CAAY,kBAAZ,CAAgC,YAAMF,QAAtC,EACAC,OAAO,CAACC,GAAR,CAAY,uBAAZ,CAAqC,YAAMF,QAAN,CAAeG,IAApD,EACAF,OAAO,CAACC,GAAR,CAAY,yBAAZ,CAAuC,YAAMF,QAAN,CAAeI,MAAtD,EACA,GAAI,YAAMJ,QAAN,CAAeI,MAAf,EAAyB,GAA7B,CAAiC,CAAE;AAC/BC,KAAK,CAAC,mDAAD,CAAL,CACAR,QAAQ,CAAC,GAAD,CAAM,EAAN,CAAR,CACH,CAfiB,qEAAH,kBAAXC,YAAW,0CAAjB,CAmBAZ,SAAS,CAAC,UAAM,CACdY,WAAW,GACXG,OAAO,CAACC,GAAR,CAAYP,QAAZ,EACD,CAHQ,CAGN,EAHM,CAAT,CAKA,mBACE,wCACE,KAAC,GAAD,EAAK,QAAQ,CAAEE,QAAf,EADF,cAEE,KAAC,OAAD,EAAS,IAAI,CAAEF,QAAf,CAAyB,OAAO,CAAEF,OAAlC,EAFF,cAIE,KAAC,MAAD,IAJF,GADF,CAQD,CArCD,CAuCA,cAAeD,KAAf"},"metadata":{},"sourceType":"module"}