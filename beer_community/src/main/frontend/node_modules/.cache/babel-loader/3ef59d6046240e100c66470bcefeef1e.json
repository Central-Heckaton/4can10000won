{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\seojio\\\\4can1000won_fork\\\\4can10000won\\\\beer_community\\\\src\\\\main\\\\frontend\\\\src\\\\components\\\\detailFooter\\\\detailFooter.jsx\",\n    _s = $RefreshSig$();\n\n// detailFooter.jsx\nimport React from \"react\";\nimport styles from \"./detailFooter.module.css\";\nimport { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { Link } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst DetailFooter = props => {\n  _s();\n\n  const [count, setCount] = useState(0);\n  const [like, setLike] = useState(\"\");\n  useEffect(() => {\n    console.log(\"useEffect setlike call\");\n    setLike(props.isLiked);\n  }, [props.isLiked]);\n  useEffect(() => {\n    console.log(\"propslike:\", props.isLiked);\n    console.log(\"like:\", like);\n\n    const putLike = async () => {\n      const request_data = {\n        beerId: props.id,\n        state: like\n      };\n      console.log(\"request data: \", request_data);\n\n      try {\n        let response = await axios({\n          method: \"post\",\n          url: \"/api/like-beer/\",\n          headers: {\n            \"Content-Type\": \"application/json\"\n          },\n          data: JSON.stringify(request_data)\n        });\n        console.log(\"response: \", response);\n      } catch (err) {\n        console.log(\"err: \", err);\n      }\n    };\n\n    if (count > 1) {\n      putLike();\n      console.log(\"22:\", count);\n    } else {\n      setCount(count + 1);\n      console.log(\"11:\", count);\n    }\n  }, [like]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: styles.container,\n    children: [/*#__PURE__*/_jsxDEV(Link, {\n      to: \"/review\",\n      className: styles.link,\n      state: {\n        id: props.id\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.goReview,\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: styles.title,\n          children: \"\\uB9AC\\uBDF0\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: styles.reviewNum,\n          children: [\"(\", props.reviewCount, \")\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.goRate,\n      children: /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/rate\",\n        className: styles.link,\n        state: {\n          id: props.id\n        },\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: styles.button,\n          children: \"\\uB098\\uB3C4 \\uD3C9\\uAC00\\uD558\\uAE30\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.like,\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        className: styles.heart,\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          className: styles.heartReg,\n          src: like ? \"/img/heart-solid.png\" : \"/img/heart-regular.png\",\n          alt: \"heart\",\n          onClick: async e => {\n            e.preventDefault();\n            console.log(\"click like: \", like);\n            await setLike(!like);\n            console.log(\"after click like : \", like);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 43,\n    columnNumber: 5\n  }, this);\n};\n\n_s(DetailFooter, \"9NJe49HvWyUCrPVFUTo+gb1er84=\");\n\n_c = DetailFooter;\nexport default DetailFooter;\n\nvar _c;\n\n$RefreshReg$(_c, \"DetailFooter\");","map":{"version":3,"names":["React","styles","useState","useEffect","axios","Link","DetailFooter","props","count","setCount","like","setLike","console","log","isLiked","putLike","request_data","beerId","id","state","response","method","url","headers","data","JSON","stringify","err","container","link","goReview","title","reviewNum","reviewCount","goRate","button","heart","heartReg","e","preventDefault"],"sources":["C:/Users/seojio/4can1000won_fork/4can10000won/beer_community/src/main/frontend/src/components/detailFooter/detailFooter.jsx"],"sourcesContent":["// detailFooter.jsx\r\nimport React from \"react\";\r\nimport styles from \"./detailFooter.module.css\";\r\nimport { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst DetailFooter = (props) => {\r\n  const [count, setCount] = useState(0);\r\n  const [like, setLike] = useState(\"\");\r\n  useEffect(() => {\r\n    console.log(\"useEffect setlike call\");\r\n    setLike(props.isLiked);\r\n  }, [props.isLiked]);\r\n  useEffect(() => {\r\n    console.log(\"propslike:\", props.isLiked);\r\n    console.log(\"like:\", like);\r\n    const putLike = async () => {\r\n      const request_data = { beerId: props.id, state: like };\r\n      console.log(\"request data: \", request_data);\r\n      try {\r\n        let response = await axios({\r\n          method: \"post\",\r\n          url: \"/api/like-beer/\",\r\n          headers: { \"Content-Type\": \"application/json\" },\r\n          data: JSON.stringify(request_data),\r\n        });\r\n        console.log(\"response: \", response);\r\n      } catch (err) {\r\n        console.log(\"err: \", err);\r\n      }\r\n    };\r\n    if (count > 1) {\r\n      putLike();\r\n      console.log(\"22:\", count);\r\n    } else {\r\n      setCount(count + 1);\r\n      console.log(\"11:\", count);\r\n    }\r\n  }, [like]);\r\n\r\n  return (\r\n    <div className={styles.container}>\r\n      <Link\r\n        to={\"/review\"}\r\n        className={styles.link}\r\n        state={{\r\n          id: props.id,\r\n        }}\r\n      >\r\n        <div className={styles.goReview}>\r\n          <p className={styles.title}>리뷰</p>\r\n          <p className={styles.reviewNum}>({props.reviewCount})</p>\r\n        </div>\r\n      </Link>\r\n      <div className={styles.goRate}>\r\n        <Link\r\n          to={\"/rate\"}\r\n          className={styles.link}\r\n          state={{\r\n            id: props.id,\r\n          }}\r\n        >\r\n          <button className={styles.button}>나도 평가하기</button>\r\n        </Link>\r\n      </div>\r\n      <div className={styles.like}>\r\n        <button className={styles.heart}>\r\n          <img\r\n            className={styles.heartReg}\r\n            src={like ? \"/img/heart-solid.png\" : \"/img/heart-regular.png\"}\r\n            alt=\"heart\"\r\n            onClick={async (e) => {\r\n              e.preventDefault();\r\n              console.log(\"click like: \", like);\r\n              await setLike(!like);\r\n              console.log(\"after click like : \", like);\r\n            }}\r\n          />\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DetailFooter;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}